"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5545],{3505:(e,s,n)=>{n.r(s),n.d(s,{data:()=>a});const a={key:"v-9f3f99b4",path:"/os/linux/ssh-port.html",title:"修改 ssh 默认登录的端口",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"os/linux/ssh-port.md",git:{updatedTime:1629648513e3,contributors:[{name:"duoli",email:"zhaody901@126.com",commits:1}]}}},6636:(e,s,n)=>{n.r(s),n.d(s,{default:()=>l});const a=(0,n(6252).uE)('<h1 id="修改-ssh-默认登录的端口" tabindex="-1"><a class="header-anchor" href="#修改-ssh-默认登录的端口" aria-hidden="true">#</a> 修改 ssh 默认登录的端口</h1><p>查看系统版本</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># cat /etc/system-release\nCentOS Linux release 8.1.1911 (Core)\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看是否安装过SSH软件(centos 命令)：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># rpm -qa | grep ssh\nopenssh-7.4p1-16.el7.x86_64\nopenssh-server-7.4p1-16.el7.x86_64\nlibssh2-1.4.3-10.el7_2.1.x86_64\nopenssh-clients-7.4p1-16.el7.x86_64\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>用编辑器打开SSH配置文件，修改端口：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># vi /etc/ssh/sshd_config\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>找到行 <code>#Port 22</code> （默认端口为22），修改端口为其他端口, 不要出现端口冲突</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Port 5022\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>重启SSH服务：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># systemctl restart sshd\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>修改防火墙，允许访问 5022 的端口，并且重启防火墙服务：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 配置 5022\n$ firewall-cmd --permanent --zone=public --add-port=5022/tcp\n# 重启\n$ firewall-cmd --reload\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果是 Aliyun 主机, 则需要在对应的安全组打开端口访问权限, 否则一样无法访问主机</p>',14),l={render:function(e,s){return a}}}}]);