"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8030],{7452:(e,n,r)=>{r.r(n),r.d(n,{data:()=>a});const a={key:"v-3e8a3d2b",path:"/os/centos/upgrade-curl.html",title:"[转+] CentOS 7 更新 curl 为最新版本",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"介绍",slug:"介绍",children:[]},{level:2,title:"更新 ca-bundle",slug:"更新-ca-bundle",children:[]},{level:2,title:"新增 repo 源",slug:"新增-repo-源",children:[]},{level:2,title:"更新 curl",slug:"更新-curl",children:[]},{level:2,title:"更新相关软件",slug:"更新相关软件",children:[]},{level:2,title:"参考地址",slug:"参考地址",children:[]}],filePathRelative:"os/centos/upgrade-curl.md",git:{updatedTime:1629648513e3,contributors:[{name:"duoli",email:"zhaody901@126.com",commits:1}]}}},8143:(e,n,r)=>{r.r(n),r.d(n,{default:()=>p});var a=r(6252);const s=(0,a.uE)('<h1 id="转-centos-7-更新-curl-为最新版本" tabindex="-1"><a class="header-anchor" href="#转-centos-7-更新-curl-为最新版本" aria-hidden="true">#</a> [转+] CentOS 7 更新 curl 为最新版本</h1><h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>由于 CentOS 7 内置的 curl 和 libcurl 源为较旧的 7.29.0，不支持一些新特性且有安全性问题，所以需要更新一下, 这里使用 city-fan 的更新源来更新。</p><h2 id="更新-ca-bundle" tabindex="-1"><a class="header-anchor" href="#更新-ca-bundle" aria-hidden="true">#</a> 更新 ca-bundle</h2><ol><li>首先备份一下：</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ cp /etc/pki/tls/certs/ca-bundle.crt /etc/pki/tls/certs/ca-bundle.crt.bak\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="2"><li>更新并替换：</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ curl http://curl.haxx.se/ca/cacert.pem -o /etc/pki/tls/certs/ca-bundle.crt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="新增-repo-源" tabindex="-1"><a class="header-anchor" href="#新增-repo-源" aria-hidden="true">#</a> 新增 repo 源</h2><p>新增 repo：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ rpm -Uvh http://www.city-fan.org/ftp/contrib/yum-repo/city-fan.org-release-2-1.rhel7.noarch.rpm\n\nRetrieving http://www.city-fan.org/ftp/contrib/yum-repo/city-fan.org-release-2-1.rhel7.noarch.rpm\nwarning: /var/tmp/rpm-tmp.ttjkC5: Header V4 DSA/SHA1 Signature, key ID b56a8bac: NOKEY\nPreparing...                          ################################# [100%]\nUpdating / installing...\n   1:city-fan.org-release-2-1.rhel7   ################################# [100%]\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>启用 city-fan.org repo：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ cat /etc/yum.repos.d/city-fan.org.repo\n[city-fan.org]\nname=city-fan.org repository for Red Hat Enterprise Linux (and clones) $releasever ($basearch)\n#baseurl=http://mirror.city-fan.org/ftp/contrib/yum-repo/rhel$releasever/$basearch\nmirrorlist=http://mirror.city-fan.org/ftp/contrib/yum-repo/mirrorlist-rhel$releasever\nenabled=1\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-city-fan.org\n\n[city-fan.org-debuginfo]\nname=city-fan.org debuginfo repository for Red Hat Enterprise Linux (and clones) $releasever ($basearch)\n#baseurl=http://www.city-fan.org/ftp/contrib-debug/rhel$releasever/$basearch\nmirrorlist=http://www.city-fan.org/ftp/contrib-debug/mirrorlist-rhel$releasever\nenabled=0\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-city-fan.org\n\n[city-fan.org-source]\nname=city-fan.org source repository for Red Hat Enterprise Linux (and clones) $releasever\n#baseurl=http://mirror.city-fan.org/ftp/contrib/yum-repo/rhel$releasever/source\nmirrorlist=http://mirror.city-fan.org/ftp/contrib/yum-repo/source-mirrorlist-rhel$releasever\nenabled=0\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-city-fan.org\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="更新-curl" tabindex="-1"><a class="header-anchor" href="#更新-curl" aria-hidden="true">#</a> 更新 curl</h2><p>直接使用如下命令进行更新：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ yum update curl --enablerepo=city-fan.org  -y\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>更新完成后，建议重启一下。就可以正常使用了。</p><h2 id="更新相关软件" tabindex="-1"><a class="header-anchor" href="#更新相关软件" aria-hidden="true">#</a> 更新相关软件</h2><p>如果系统中 存在 php-fpm 程序, 则需要对安装的 php-fpm 进行重启</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ systemctl restart php-fpm\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="参考地址" tabindex="-1"><a class="header-anchor" href="#参考地址" aria-hidden="true">#</a> 参考地址</h2>',21),l={href:"https://qiita.com/tkprof/items/5460b8d603cbbc542c8c",target:"_blank",rel:"noopener noreferrer"},t=(0,a.Uk)("How to yum update curl 7.29 to 7.61 - CentOS 7.X"),i={href:"https://www.htcp.net/337.html",target:"_blank",rel:"noopener noreferrer"},c=(0,a.Uk)("CentOS 7 更新 curl 为最新版本"),p={render:function(e,n){const r=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[s,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",l,[t,(0,a.Wm)(r)])]),(0,a._)("li",null,[(0,a._)("a",i,[c,(0,a.Wm)(r)])])])],64)}}}}]);