"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[271],{525:(e,n,a)=>{a.r(n),a.d(n,{data:()=>s});const s={key:"v-21dde746",path:"/mysql/3_table.html",title:"4. 表管理",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:3,title:"4.1 克隆表结构和数据",slug:"_4-1-克隆表结构和数据",children:[]},{level:3,title:"4.2 使用临时表",slug:"_4-2-使用临时表",children:[]},{level:3,title:"4.3 检查或者改变某个表的搜索引擎",slug:"_4-3-检查或者改变某个表的搜索引擎",children:[]}],filePathRelative:"mysql/3_table.md",git:{updatedTime:162981392e4,contributors:[{name:"duoli",email:"zhaody901@126.com",commits:1}]}}},131:(e,n,a)=>{a.r(n),a.d(n,{default:()=>l});const s=(0,a(6252).uE)('<h1 id="_4-表管理" tabindex="-1"><a class="header-anchor" href="#_4-表管理" aria-hidden="true">#</a> 4. 表管理</h1><h3 id="_4-1-克隆表结构和数据" tabindex="-1"><a class="header-anchor" href="#_4-1-克隆表结构和数据" aria-hidden="true">#</a> 4.1 克隆表结构和数据</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 创建表结构\nCreate Table new_table Like ori_table\n\n# 表数据插入\nInsert Into new_table Select * From ori_table Where ...\n\n# 表数据指定字段插入\nInsert Into new_table(col_a, col_b) Select col_c,col_d From ori_table Where ...\n\n# 查询并且新建\nCreate Table new_table Select col_a, col_b From ori_table\n\n# 新建表并使用索引\nCreate Table new_table(Primary Key (id), Index (state, city)) Select id, state, city From ori_table\n\n# 创建数据表并修改结构\nCreate Table new_table(Primary Key (id), Index (state, city)) Select id, state, city From ori_table;\nAlt Table new_table Modify id Int Unsigned Not Null Auto_Increment;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_4-2-使用临时表" tabindex="-1"><a class="header-anchor" href="#_4-2-使用临时表" aria-hidden="true">#</a> 4.2 使用临时表</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 创建临时表\nCreate Temporary Table tbl_name (...col define ...)\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>不同的数据库连接可以创建同名的临时表, 这些表之间不互相影响. 临时表对数据库连接生效 如果临时表没有删除则在下次使用的时候会报错, 所以使用前最好先对数据表是否存在做相应的判定.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 删除\nDrop Temporary Table If Exists tbl_name\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 唯一性临时表\nSelect Connection_Id();\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4-3-检查或者改变某个表的搜索引擎" tabindex="-1"><a class="header-anchor" href="#_4-3-检查或者改变某个表的搜索引擎" aria-hidden="true">#</a> 4.3 检查或者改变某个表的搜索引擎</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 显示引擎\n# From Information_Schema \nSelect Engine From Information_Schema.tables \n   Where Table_Schema = &#39;cookbook&#39; And Table_Name =&#39;cookers&#39;;\n   \n# Status\nShow Table Status Like &#39;cookers&#39;;\n\n# Create Table\nShow Create Table cookers;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 修改引擎\nAlt Table cookers Engine = InnoDb\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',11),l={render:function(e,n){return s}}}}]);