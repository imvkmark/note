"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5479],{7292:(e,a,n)=>{n.r(a),n.d(a,{data:()=>t});const t={key:"v-39a4bfe2",path:"/javascript/npm/npm-package.html",title:"发布 npm 包",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"常见问题",slug:"常见问题",children:[{level:3,title:"1. PUT https://registry.npm.taobao.org/@... - [no_perms] Private mode enable, only admin can publish this module",slug:"_1-put-https-registry-npm-taobao-org-no-perms-private-mode-enable-only-admin-can-publish-this-module",children:[]},{level:3,title:"2. You must sign up for private packages",slug:"_2-you-must-sign-up-for-private-packages",children:[]},{level:3,title:"3. Couldn't publish package: Scope not found\"",slug:"_3-couldn-t-publish-package-scope-not-found",children:[]},{level:3,title:"4. 取消发布",slug:"_4-取消发布",children:[]}]}],filePathRelative:"javascript/npm/npm-package.md",git:{updatedTime:1629648513e3,contributors:[{name:"duoli",email:"zhaody901@126.com",commits:1}]}}},325:(e,a,n)=>{n.r(a),n.d(a,{default:()=>g});var t=n(6252);const s=(0,t._)("h1",{id:"发布-npm-包",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#发布-npm-包","aria-hidden":"true"},"#"),(0,t.Uk)(" 发布 npm 包")],-1),r=(0,t.Uk)("关于如何发布可以查看 "),o={href:"https://juejin.im/post/6844903751833092104",target:"_blank",rel:"noopener noreferrer"},p=(0,t.Uk)("[译] 创建并发布一个小而美的 npm 包"),i=(0,t.Uk)("关于如何搭建一个 npm 包并进行单元测试, 这里有个解决方案 "),l={href:"https://github.com/yanhaijing/jslib-base/blob/master/README.zh-CN.md",target:"_blank",rel:"noopener noreferrer"},u=(0,t.Uk)("jslib-base"),d=(0,t.uE)('<p>在发布包的时候遇到的常见问题如下</p><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h2><h3 id="_1-put-https-registry-npm-taobao-org-no-perms-private-mode-enable-only-admin-can-publish-this-module" tabindex="-1"><a class="header-anchor" href="#_1-put-https-registry-npm-taobao-org-no-perms-private-mode-enable-only-admin-can-publish-this-module" aria-hidden="true">#</a> 1. PUT https://registry.npm.taobao.org/@... - [no_perms] Private mode enable, only admin can publish this module</h3><p>使用 <code>npm publish</code> 或者使用 <code>yarn publish</code> 出现 couldn&#39;t publish package:&quot;https://registry.npm.taobao.org/包...:unauthorized</p><p>出现原因：使用的是淘宝源 cnpm,登陆到的是 cnpm</p><p>解决方法：切换到 npmjs 的网址，代码如下</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm config set registry http://registry.npmjs.org/\n\n# 切换回淘宝源\nnpm config set registry https://registry.npm.taobao.org/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-you-must-sign-up-for-private-packages" tabindex="-1"><a class="header-anchor" href="#_2-you-must-sign-up-for-private-packages" aria-hidden="true">#</a> 2. You must sign up for private packages</h3><p>这里代表发布的时候必须要加入 <code>--access public</code>, 因为默认的 <code>@</code> 符号开始的必须是私有包, 如果默认需要显式的传成公共方法, 则需要自己主动约定</p><h3 id="_3-couldn-t-publish-package-scope-not-found" tabindex="-1"><a class="header-anchor" href="#_3-couldn-t-publish-package-scope-not-found" aria-hidden="true">#</a> 3. Couldn&#39;t publish package: Scope not found&quot;</h3><p>如果是用户名, 这里不需要创建 scope, 如果是除了自己用户名之外的, 需要确认 scope 是否存在, 如果不存在, 则可以创建一个 organization</p>',11),c=(0,t.Uk)("参考地址 "),h={href:"https://stackoverflow.com/questions/43824012/how-to-publish-npm-scoped-packages-npm-scope-not-found",target:"_blank",rel:"noopener noreferrer"},m=(0,t.Uk)("How to publish NPM Scoped Packages / NPM scope not found?"),b=(0,t.uE)('<h3 id="_4-取消发布" tabindex="-1"><a class="header-anchor" href="#_4-取消发布" aria-hidden="true">#</a> 4. 取消发布</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ yarn unpublish @pkg/name --force\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',2),g={render:function(e,a){const n=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s,(0,t._)("p",null,[r,(0,t._)("a",o,[p,(0,t.Wm)(n)])]),(0,t._)("p",null,[i,(0,t._)("a",l,[u,(0,t.Wm)(n)])]),d,(0,t._)("p",null,[c,(0,t._)("a",h,[m,(0,t.Wm)(n)])]),b],64)}}}}]);