<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.25">
    <title>Nginx 编译参数 | 笔记@小有记</title><meta name="description" content="">
    <link rel="preload" href="/assets/js/runtime~app.ce6e78a5.js" as="script"><link rel="preload" href="/assets/css/styles.c2dbe51e.css" as="style"><link rel="preload" href="/assets/js/2968.6fb6be6b.js" as="script"><link rel="preload" href="/assets/js/app.21ffca0f.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.c2dbe51e.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="笔记@小有记"><span class="site-name can-hide">笔记@小有记</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/ops/" class="nav-link" aria-label="运维"><!--[--><!--]--> 运维 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/os/" class="nav-link" aria-label="系统"><!--[--><!--]--> 系统 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/nginx/" class="nav-link router-link-active" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/mysql/" class="nav-link" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/javascript/" class="nav-link" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/ops/" class="nav-link" aria-label="运维"><!--[--><!--]--> 运维 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/os/" class="nav-link" aria-label="系统"><!--[--><!--]--> 系统 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/nginx/" class="nav-link router-link-active" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/mysql/" class="nav-link" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/javascript/" class="nav-link" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="nginx-编译参数" tabindex="-1"><a class="header-anchor" href="#nginx-编译参数" aria-hidden="true">#</a> Nginx 编译参数</h1><h2 id="命令" tabindex="-1"><a class="header-anchor" href="#命令" aria-hidden="true">#</a> 命令</h2><ul><li><code>./sbin/nginx -V</code> - 查看当前已安装版本的编译参数</li><li><code>src/nginx-x.x.x/configure --help</code> - 显示提示信息</li></ul><h2 id="参数详情" tabindex="-1"><a class="header-anchor" href="#参数详情" aria-hidden="true">#</a> 参数详情</h2><table><thead><tr><th>参数名称</th><th>备注</th></tr></thead><tbody><tr><td><code>--prefix=value</code></td><td>指向安装目录</td></tr><tr><td><code>--sbin-path</code></td><td>指向（执行）程序文件（<code>nginx</code>）</td></tr><tr><td><code>--conf-path=</code></td><td>指向配置文件（<code>nginx.conf</code>）</td></tr><tr><td><code>--error-log-path=</code></td><td>指向错误日志目录</td></tr><tr><td><code>--pid-path=</code></td><td>指向 <code>pid</code> 文件（<code>nginx.pid</code>）</td></tr><tr><td><code>--lock-path=</code></td><td>指向 <code>lock</code> 文件（<code>nginx.lock</code>）（安装文件锁定，防止安装文件被别人利用，或自己误操作。）进程ID文件</td></tr><tr><td><code>--user=</code></td><td>指定程序运行时的用户名</td></tr><tr><td><code>--group=</code></td><td>指定程序运行时的用户组名</td></tr><tr><td><code>--builddir=</code></td><td>指向编译目录</td></tr><tr><td><code>--with-rtsig_module</code></td><td>启用 rtsig 模块支持（实时信号）</td></tr><tr><td><code>--with-select_module</code></td><td>启用 select 模块支持（一种轮询模式,不推荐在高载环境下使用）禁用：<code>--without-select_module</code></td></tr><tr><td><code>--with-poll_module</code></td><td>启用 poll 模块支持（功能与 select 相同，与 select 特性相同，为一种轮询模式,不推荐在高载环境下使用）</td></tr><tr><td><code>--with-file-aio</code></td><td>启用 file aio 支持（一种 APL 文件传输格式）</td></tr><tr><td><code>--with-ipv6</code></td><td>启用 ipv6 支持</td></tr><tr><td><code>--add-module=</code></td><td>启用外部模块支持</td></tr><tr><td><code>--with-cc=</code></td><td>指向 C 编译器路径</td></tr><tr><td><code>--with-cpp=</code></td><td>指向 C 预处理路径</td></tr><tr><td><code>--with-cc-opt=</code></td><td>设置 C 编译器参数</td></tr><tr><td><code>--with-ld-opt=</code></td><td>设置连接文件参数</td></tr><tr><td><code>--with-cpu-opt=</code></td><td>指定编译的 CPU，可用的值为：pentium, pentiumpro, pentium3, pentium4, athlon, opteron, amd64, sparc32, sparc64, ppc64</td></tr><tr><td><code>--without-pcre</code></td><td>禁用 PCRE 库</td></tr><tr><td><code>--with-pcre</code></td><td>启用 PCRE 库</td></tr><tr><td><code>--with-pcre=</code></td><td>指向 PCRE 库文件目录</td></tr><tr><td><code>--with-pcre-opt=</code></td><td>在编译时为 PCRE 库设置附加参数</td></tr><tr><td><code>--with-md5=</code></td><td>指向 MD5 库文件目录（消息摘要算法第五版，用以提供消息的完整性保护）</td></tr><tr><td><code>--with-md5-opt=</code></td><td>在编译时为 MD5 库设置附加参数</td></tr><tr><td><code>--with-md5-asm</code></td><td>使用 MD5 汇编源</td></tr><tr><td><code>--with-sha1=</code></td><td>指向 sha1 库目录（数字签名算法，主要用于数字签名）</td></tr><tr><td><code>--with-sha1-opt=</code></td><td>在编译时为 sha1 库设置附加参数</td></tr><tr><td><code>--with-sha1-asm</code></td><td>使用 sha1 汇编源</td></tr><tr><td><code>--with-perl=</code></td><td>设定 perl 库文件路径</td></tr><tr><td><code>--with-zlib=</code></td><td>指向 zlib 库目录</td></tr><tr><td><code>--with-zlib-opt=</code></td><td>在编译时为 zlib 设置附加参数</td></tr><tr><td><code>--with-zlib-asm=</code></td><td>为指定的 CPU 使用 zlib 汇编源进行优化，CPU 类型为 pentium, pentiumpro</td></tr><tr><td><code>--with-libatomic</code></td><td>为原子内存的更新操作的实现提供一个架构</td></tr><tr><td><code>--with-libatomic=</code></td><td>指向 libatomic_ops 安装目录</td></tr><tr><td><code>--with-openssl=</code></td><td>指向 openssl 安装目录</td></tr><tr><td><code>--with-openssl-opt</code></td><td>在编译时为 openssl 设置附加参数</td></tr><tr><td><code>--with-debug</code></td><td>启用 debug 日志</td></tr><tr><td><code>--with-http_ssl_module</code></td><td>启用 ngx_http_ssl_module 支持（使支持 HTTPS 请求，需已安装 openssl）</td></tr><tr><td><code>--with-http_realip_module</code></td><td>启用 ngx_http_realip_module 支持（这个模块允许从请求标头更改客户端的 IP 地址值，默认为关）</td></tr><tr><td><code>--with-http_addition_module</code></td><td>启用 ngx_http_addition_module 支持（作为一个输出过滤器，支持不完全缓冲，分部分响应请求）</td></tr><tr><td><code>--with-http_xslt_module</code></td><td>启用 ngx_http_xslt_module 支持（过滤转换 XML 请求）</td></tr><tr><td><code>--with-http_image_filter_module</code></td><td>启用 ngx_http_image_filter_module 支持（传输 JPEG/GIF/PNG 图片的一个过滤器）（默认为不启用。GD 库要用到）</td></tr><tr><td><code>--with-http_geoip_module</code></td><td>启用 ngx_http_geoip_module 支持（该模块创建基于与 MaxMind GeoIP 二进制文件相配的客户端 IP 地址的 ngx_http_geoip_module 变量）</td></tr><tr><td><code>--with-http_sub_module</code></td><td>启用 ngx_http_sub_module 支持（允许用一些其他文本替换 Nginx 响应中的一些文本）</td></tr><tr><td><code>--with-http_dav_module</code></td><td>启用 ngx_http_dav_module 支持（增加 PUT、DELETE、MKCOL 创建集合，COPY 和 MOVE 方法）默认情况下为关闭，需编译开启</td></tr><tr><td><code>--with-http_flv_module</code></td><td>启用 ngx_http_flv_module 支持（提供寻求内存使用基于时间的偏移量文件）</td></tr><tr><td><code>--with-http_gzip_static_module</code></td><td>启用 ngx_http_gzip_static_module 支持（在线实时压缩输出数据流）</td></tr><tr><td><code>--with-http_random_index_module</code></td><td>启用 <code>ngx_http_random_index_module</code> 支持（从目录中随机挑选一个目录索引）</td></tr><tr><td><code>--with-http_secure_link_module</code></td><td>启用 ngx_http_secure_link_module 支持（计算和检查要求所需的安全链接网址）</td></tr><tr><td><code>--with-http_degradation_module</code></td><td>启用 ngx_http_degradation_module 支持（允许在内存不足的情况下返回204或444码）</td></tr><tr><td><code>--with-http_stub_status_module</code></td><td>启用 ngx_http_stub_status_module 支持（获取 Nginx 自上次启动以来的工作状态）</td></tr><tr><td><code>--without-http_charset_module</code></td><td>禁用 ngx_http_charset_module 支持（重新编码 WEB 页面，但只能是一个方向--服务器端到客户端，并且只有一个字节的编码可以被重新编码）</td></tr><tr><td><code>--without-http_gzip_module</code></td><td>禁用 ngx_http_gzip_module 支持（该模块同 <code>--with-http_gzip_static_module</code> 功能一样）</td></tr><tr><td><code>--without-http_ssi_module</code></td><td>禁用 ngx_http_ssi_module 支持（该模块提供了一个在输入端处理处理服务器包含文件（SSI）的过滤器，目前支持 SSI 命令的列表是不完整的）</td></tr><tr><td><code>--without-http_userid_module</code></td><td>禁用 ngx_http_userid_module 支持（该模块用来处理用来确定客户端后续请求的 <code>cookie</code> ）</td></tr><tr><td><code>--without-http_access_module</code></td><td>禁用 ngx_http_access_module 支持（该模块提供了一个简单的基于主机的访问控制。允许/拒绝基于 IP 地址）</td></tr><tr><td><code>--without-http_auth_basic_module</code></td><td>禁用 ngx_http_auth_basic_module（该模块是可以使用用户名和密码基于 HTTP 基本认证方法来保护你的站点或其部分内容）</td></tr><tr><td><code>--without-http_autoindex_module</code></td><td>禁用 ngx_http_autoindex_module 支持（该模块用于自动生成目录列表，只在 <code>ngx_http_index_module</code> 模块未找到索引文件时发出请求。）</td></tr><tr><td><code>--without-http_geo_module</code></td><td>禁用 ngx_http_geo_module 支持（创建一些变量，其值依赖于客户端的IP地址）</td></tr><tr><td><code>--without-http_map_module</code></td><td>禁用 ngx_http_map_module 支持（使用任意的键/值对设置配置变量）</td></tr><tr><td><code>--without-http_split_clients_module</code></td><td>禁用 ngx_http_split_clients_module 支持（该模块用来基于某些条件划分用户。条件如：ip地址、报头、cookies等等）</td></tr><tr><td><code>--without-http_referer_module</code></td><td>禁用 ngx_http_referer_module支持（该模块用来过滤请求，拒绝报头中 Referer 值不正确的请求）</td></tr><tr><td><code>--without-http_rewrite_module</code></td><td>禁用 ngx_http_rewrite_module ，链接重写</td></tr><tr><td><code>--without-http_proxy_module</code></td><td>禁用 ngx_http_proxy_module 支持（有关代理服务器）</td></tr><tr><td><code>--without-http_fastcgi_module</code></td><td>禁用 ngx_http_fastcgi_module 支持（该模块允许 Nginx 与 FastCGI 进程交互，并通过传递参数来控制 FastCGI 进程工作。 ）FastCGI 一个常驻型的公共网关接口。</td></tr><tr><td><code>--without-http_uwsgi_module</code></td><td>禁用 ngx_http_uwsgi_module 支持（该模块用来医用uwsgi协议，uWSGI服务器相关）</td></tr><tr><td><code>--without-http_scgi_module</code></td><td>禁用 ngx_http_scgi_module支持</td></tr><tr><td><code>--without-http_memcached_module</code></td><td>禁用 ngx_http_memcached_module 支持（该模块用来提供简单的缓存，以提高系统效率）</td></tr><tr><td><code>-without-http_limit_zone_module</code></td><td>禁用 ngx_http_limit_zone_module 支持（该模块可以针对条件，进行会话的并发连接数控制）</td></tr><tr><td><code>--without-http_limit_req_module</code></td><td>禁用 ngx_http_limit_req_module 支持（该模块允许你对于一个地址进行请求数量的限制用一个给定的session或一个特定的事件）</td></tr><tr><td><code>--without-http_empty_gif_module</code></td><td>禁用 <code>ngx_http_empty_gif_module</code> 支持（该模块在内存中常驻了一个1*1的透明GIF图像，可以被非常快速的调用）</td></tr><tr><td><code>--without-http_browser_module</code></td><td>禁用 ngx_http_browser_module 支持</td></tr><tr><td><code>--without-http_upstream_ip_hash_module</code></td><td>禁用 ngx_http_upstream_ip_hash_module 支持（该模块用于简单的负载均衡）</td></tr><tr><td><code>--with-http_perl_module</code></td><td>启用 ngx_http_perl_module 支持（该模块使nginx可以直接使用perl或通过ssi调用perl）</td></tr><tr><td><code>--with-perl_modules_path=</code></td><td>设定 perl 模块路径</td></tr><tr><td><code>--http-log-path=</code></td><td>设定 access log 路径</td></tr><tr><td><code>--http-client-body-temp-path=</code></td><td>设定 HTTP 客户端请求临时文件路径</td></tr><tr><td><code>--http-proxy-temp-path=</code></td><td>设定 HTTP 代理临时文件路径</td></tr><tr><td><code>--http-fastcgi-temp-path=</code></td><td>设定 HTTP Fastcgi 临时文件路径</td></tr><tr><td><code>--http-uwsgi-temp-path=</code></td><td>设定 HTTP uwsgi 临时文件路径</td></tr><tr><td><code>--http-scgi-temp-path=</code></td><td>设定 HTTP scgi 临时文件路径</td></tr><tr><td><code>--without-http</code></td><td>禁用 HTTP server 功能</td></tr><tr><td><code>--without-http-cache</code></td><td>禁用 HTTP Cache 功能</td></tr><tr><td><code>--with-mail</code></td><td>启用 POP3/IMAP4/SMTP 代理模块支持</td></tr><tr><td><code>--with-mail_ssl_module</code></td><td>启用 ngx_mail_ssl_module 支持</td></tr><tr><td><code>--without-mail_pop3_module</code></td><td>禁用 POP3 协议</td></tr><tr><td><code>--without-mail_imap_module</code></td><td>禁用 IMAP 协议</td></tr><tr><td><code>--without-mail_smtp_module</code></td><td>禁用 SMTP 协议</td></tr><tr><td><code>--with-google_perftools_module</code></td><td>启用 ngx_google_perftools_module 支持（调试用，剖析程序性能瓶颈）</td></tr><tr><td><code>--with-cpp_test_module</code></td><td>启用 ngx_cpp_test_module 支持</td></tr></tbody></table><blockquote><p>部分摘自：<a href="http://www.ttlsa.com/nginx/nginx-configure-descriptions/" target="_blank" rel="noopener noreferrer">http://www.ttlsa.com/nginx/nginx-configure-descriptions/<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p></blockquote><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">2021/8/23 上午12:08:33</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zhaody901@126.com">duoli</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.ce6e78a5.js" defer></script><script src="/assets/js/2968.6fb6be6b.js" defer></script><script src="/assets/js/app.21ffca0f.js" defer></script>
  </body>
</html>
