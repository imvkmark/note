# 运维 - 岗位职责

## 例行工作

-   访问请求高于 300 ms 的链接定时发送,过滤唯一性链接(每周两次发送)
-   404 日志错误链接定时发送(每日一次)

## 工作职责

### 一、 开发环境

-   1、规整开发环境，设定自动开发环境部署，构架自动开发平台 devauto 建设。
-   2、管理 git/svn 代码版本控制并实现本地、测试与线上代码的管控和流程优化
-   3、按照开发要求，提前搭建、添置开发新组件、环境和系统；
-   4、构建内部开发 WIKI 知识体系，为技术员工入职技术培训提供支撑，尽快熟悉代码开发流程与规范；

### 二、线上服务器管控

-   1、根据产品要求，构建可靠的网站、应用服务平台并保证正常运行；
-   2、保障线上网站 ixdcw 平台正常运行。使用 Zabbix NAGIOS 等监控软件，对服务进行监控，异常处理，自动恢复，系统瓶颈分析和报表周期汇报；
-   3、监控数据库的正常运行。获取慢查询信息，并自动去重复，发送给指定的开发人员对数据进行优化和代码调整；每天进行一次汇报；
-   4、网站数据访问分析；分类整理网站访问日志、APP 的访问日志并做汇总和分析，并自动发送给指定人员。每天一次。每月 1 次大汇总；
-   5、部署自动化运维工具 ansible 或 SaltStack 提高对服务器平滑部署和管理的可行性和效率；

### 三、系统安全

-   1、设定信息发布堡垒机，ssh 安全连接堡垒机，合理分配使用账户，并使用周期检查和修改密码方式，保证信息发布入口安全；
-   2、设定测试环境访问限定、mysql 连接安全、优化系统运行账户安全、运行权限和登陆日志安全检查，并定期汇总；
-   3、部署硬件防火墙（软件防火墙），和入侵检测系统并设定合适测试，防止 CC 工具和 DDOS 等网络攻击；
-   4、应用服务器(php nginx lvs mysql)设定合理的防火墙策略，对异常请求和访问进行自动过滤和攻击防范，强加安全；
-   5、关注漏洞网站，针对系统漏洞和应用漏洞进行组件升级、应用升级和系统升级。
-   6、定期对网站进行风险评估、压力测试和应用访问统计来升级硬件、拓展服务。
-   7、定期更换关键系统的密码。

### 四、数据安全

-   1、每日对开发人员提交的代码库定时备份；
-   2、定时备份开发人员使用的数据库和数据库结构；
-   3、每天对线上运营服务器数据库进行完整备份、完整单表备份、完整数据结构备份。并使用主从库来保证数据的实时性；
-   4、同步备份数据至本地服务系统，并保留归档；
-   5、设定高可用 HA MYSQL、保证数据库故障后的无缝接管；

### 五、其他需求

-   1、对各种系统、服务运行日志进行分析，针对性优化系统；
-   2、根据开发和其他部门要求，完成新系统的构建和二次开发；
-   3、领导安排的其他事宜；

## 工作内容

运维工程师详细工作内容

-   1.设定所有服务器的监控报警机制，并发送报警信息至 js_xlq 和js_zdy@ixdcw.com;
-   2.设定系统故障后的自动重启 shell 脚本实现和接管机制 nginx 的反向代理存活机制或 Keepalived 检测机制；
-   3.设定图片服务器的防爬功能,时时关注异常抓取并设定封堵；采用 nginx 的三方插件或自行写 shell 实现；
-   4、分析 nginx php mysql linux 的访问日志，并把网站、api 访问统计、数据库 0.5ms 慢查询日志、PHP feata error、汇总自动发送到指定人员(使用 python 来是实现分析并发送邮件),关注前段 static 下的图片、css、错误日志记录并发送前段。所有以 show ,list 访问不存在的死链，统计后发送 SEO;
-   5、数据库的实时备份从备份、每日的完整备份和完整单表备份；并归档到本地；采用主从库设定、binlog 和 shell 来实现；
-   6、防止 DDOS 和 CC 攻击 WAF 软件部署； 采用 LUA 的扩展实现；
-   7、优化开发人员环境并开发部署；（采用张宴使用的方式进行)

## 运维考题

1. 如何监控一个 ip 访问异常并进行处理
