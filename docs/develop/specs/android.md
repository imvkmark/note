# Android - 编码规范 v1.1

## 1. Android 命名规范

### 1.1 文件名

-   文件名必须与类名或接口名一致。
-   源代码文件名不能使用中文日文等英文数字之外的字符。
-   源代码是识别大小写字母的。要求文件名无论在 WINDOWS 还是在 LINUX 都要用大小写区分。

### 1.2 项目命名规范

使用帕斯卡命名法命名。例：`AndroidProject`

### 1.3 包命名规范

命名规则：一个唯一包名的前缀总是全部小写的 ASCII 字母并且是一个顶级域名，通常是 com，edu，gov，mil，net，org。包名的后续部分根据不同机构各自内部的命名规范而不尽相同。这类命名规范可能以特定目录名的组成来区分部门 (department) ，项目(project)，机器(machine)，或注册名(login names)。

```
# 例
com.android.project
```

### 1.4 类、接口命名规范

命名规则：类名是个一名词，采用大小写混合的方式，每个单词的首字母大写。尽量使你的类名简洁而富于描述。使用完整单词，避免缩写词(除非该缩写词被更广泛使用，像 URL，HTML)

接口一般要使用 able、ible、er 等后缀

一般使用帕斯卡命名法，专有的缩写词除外。例：`MainActivity`、`RAMCache`

### 1.5 方法命名规范

-   使用驼峰命名法。
-   不使用下划线分隔单词。
-   方法命名应能描绘出方法的作用和功能。
-   使用祈使动词或动词短语。

```
# 例
public void onCreate();
```

### 1.6 属性命名规范

1.6.1     变量命名

命名规则：第一个单词的首字母小写，其后单词的首字母大写。变量名不应以下划线或美元符号开头。变量名应简短且富于描述。变量名的选用应该易于记忆，即，能够指出其用途。尽量避免单个字符的变量名，除非是一次性的临时变量。临时变量通常被取名为 i，j，k，m 和 n，它们一般用于整型；c，d，e，它们一般用于字符型。

-   一般使用下划线分隔（尽量统一用此种命名）
-   其次使用驼峰命名法
-   应为名词或名词短语
-   简单易懂，不允许出现无意义的单词

```
# 例
private boolean is_start;
private String input_content;
```

1.6.2     常量命名

-   建议都为大写字母
-   用下划线分隔单词

```
private static final int MIN_VALUE = 0
```

### 1.7 XML 配置文件命名规范

1.7.1    Activity 布局文件命名规范

-   一般使用下划线命名法。
-   一般为 activity+下划线+对应的 Activity 名称

例：activity_main.xml

1.7.2    Fragment 布局文件命名规范

-   一般使用下划线命名法。
-   一般为 fragment+下划线+对应的 Fragment 名称

例：fragment_search.xml

1.7.3     列表控件中 Item 布局文件命名规范

-   一般使用下划线命名法。
-   一般为 item+下划线+所属环境名称+描述

例：item\_ news_list.xml

1.7.4    Include 布局文件命名规范

-   一般使用下划线命名法。
-   一般为 include+所属环境名称+描述

例：include\_ news_head_view.xml

### 1.8 XML 配置文件属性命名规范

控件 ID 命名

-   一般使用下划线命名法。
-   一般为:控件名称+下划线+控件描述。

```
# 例
@+id/tv_nickname
@+id/iv_avatar
@+id/ed_content
@+id/lv_search
@+id/rv_search
```

## 2 编码内容规范

### 2.1 文件内容

-   每个源代码文件中最多只能定义一个 public 公共类。
-   源代码文件的编码格式用 UTF-8。
-   文件名要符合类名的命名规范。
-   每个文件的源代码行数不能超过 800 行。

### 2.2 换行

-   类和方法的头注释前要有两行空行。
-   相邻两个代码块之前要有一行空行。
-   变量声明与代码块之间要有一行空行。
-   一条处理语句需要换行的时候，按照以下规则。
-   在逗号后换行。
-   运算符之前换行。
-   运算优先级低的位置换行。
-   换行前后的代码在同一缩进层次上。
-   如果以上原则换行后影响到代码易读性的时候，可以缩进 8 个字符宽度。
-   如果以上原则换行后其缩进格式与下一行代码相同时，要使用空行隔开。
-   原则上“&&”和“||”之前使用换行。

### 2.3 空格

-   关键字要在左括号“(”后留有一个空格，但 super 和 this 除外。
-   关键字要在左括号“{”后留有一个空格。
-   有括号“)”与左括号“{”之间要有一个空格。
-   “.”以外的二元运算符及 instanceof 的前后。
-   for 语句中分号“;”后面要有一个空格。
-   逗号后留一空格。
-   =、+、-两边都各留一个空格。
-   “[”之后，“]”之前不留空格。

### 2.4 注释

2.4.1     共通

-   在代码的开头处，如下所示描述头部注释。・块注释形式 ( /_ … _/ )・系统区分、业务区分・类描述 (类名、概要)・历史 (日期、V1.0 作为第一版，每次修改版本号就增加 0.1、创建者・更新者、更新内容)
-   文档注释 Javadoc 的输出，参考指南。
-   注释要清晰易懂。
-   句子用 " 。 " 结束。
-   块注释只能在注释掉一整块无效代码时使用。
-   按照以下方式对修改过的代码标注释。・用 注释块" /_ … _/ " 形式将需要修改的代码块注释掉，并添加修改人，修改前的版本号，修改后的版本号，修改内容概括。在修改后的代码块前后添加注释，标明修改人、修改后的版本号、修改内容。

```
/*
Modified by zhangyong 1.1->1.2 add update field
Java source …………
*/
// 2011/8/3 modified by zhangyu start
// 2011/8/3 modified by zhangyu end
// 注释一般采用" // "，" // " 与注释内容间隔一个半角空格的距离。
// 行的后半段使用注释时，使用" // "并以相同的长度进行缩进。
// 为使程序代码易读，用//添加关于处理内容的注释说明。
// 极短的注释可以与它们所要描述的代码位于同一行，但是应该有足够的空白来分开代码和注释。
if (a == 2) {
    return true;        // special case
} else {
    return isPrime(a); // works only for old
}
```

2.4.2     类注释

-   类的注释在类声明语句的前一行按照以下示例描述。・功能概要 (类名、类说明、备注)・版本号・创建者：描述所属和姓名 (全称)

2.4.3     方法注释

-   在函数定义之前记述函数注释，在注释中使用 javadoc 指定的标签。・功能概要 (方法名、方法说明、备注)。・参数说明：描述参数的类型、参数的内容，多个参数时分多行描述。・返回值说明：描述返回值的类型，返回值内容。・异常说明：描述异常类型、异常发生的条件。(描述方法抛出的异常)
